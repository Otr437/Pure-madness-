
# Zcash Confidential Bridge to Ethereum: ZK-Powered ERC-20 Grant Proposal

## Project Overview

This proposal seeks $175,000 USD (approximately 739 ZEC at $236.78/ZEC) from Zcash Community Grants to develop a confidential, non-custodial bridge enabling ZEC holders to access Ethereum DeFi while maintaining complete privacy. The core technology is a Confidential ERC-20 Token (wZEC) built using a custom Circom circuit leveraging Zero-Knowledge Proofs to enable shielded transfers and balances on Ethereum.

## Problem Statement

While Zcash offers unparalleled on-chain privacy, its utility in Ethereum's expansive DeFi ecosystem is limited by existing bridges that reveal transaction values and account balances, breaking Zcash's core value proposition when assets transfer off-chain.

## Technical Solution

We will develop a system where ZEC is locked in a vault on the Zcash chain with corresponding wZEC minted on Ethereum. This wZEC is governed by a Zero-Knowledge Proof system using a UTXO-style commitment model implemented via Merkle Tree. All wZEC transactions require valid ZK-SNARK proofs generated by our ConfidentialERC20Token circuit, ensuring shielded balances where user balances are hidden as cryptographic commitments, private transfers where transaction amounts and recipients remain secret, and non-custodial security through verifiable ZK proofs rather than trusted third parties.

## Core Technology: ConfidentialERC20Token Circuit

The cryptographic foundation is our production-ready Circom implementation supporting confidential transfer, transferFrom, approve, balanceOf, allowance, mint, and burn operations. The circuit uses a 20-level Merkle tree managing state commitments securely, supporting over one million accounts efficiently.

The circuit accepts public inputs including function selector, current Merkle root representing global state, total token supply, token metadata, transaction hash, and participant addresses. Private inputs include actual balances, secrets, nullifiers, and Merkle paths required to generate and validate shielded commitments. This separation keeps sensitive information hidden while enabling public verification.

For transfers, the circuit computes the sender's commitment by hashing their balance with secret and transaction hash, verifies this commitment exists in the Merkle root via cryptographic proof, checks sufficient balance, generates a unique nullifier preventing double-spending, creates the recipient's new commitment, and calculates the sender's updated balance. All validation checks combine into a single verification signal. Valid transactions output new commitments for Merkle tree insertion.

The transferFrom operation verifies both owner's balance and existing allowance commitments, checking sufficient balance and allowance before generating new commitments. The approve function validates owner's balance and generates allowance commitments binding spender addresses to approved amounts. View functions return encrypted commitments without revealing private information. Mint and burn operations create or destroy tokens while maintaining state consistency.

All cryptographic primitives use Poseidon hashing for commitments and nullifiers. Merkle proof verification ensures state transitions are valid without revealing actual balances or secrets. The circuit enforces arithmetic constraints ensuring balances remain non-negative and uses logical combinators guaranteeing every condition for valid transactions is satisfied before allowing state changes.

Circuit outputs include a verified flag indicating whether operations passed all checks, new commitment leaves representing updated balances or allowances ready for Merkle tree insertion, and result values for view functions.

## System Architecture

The complete system comprises a Zcash Vault/Multisig securely holding underlying ZEC in an unshielded pool, an Oracle/Relayer Network initially centralized but aiming for decentralized governance that observes ZEC deposits, triggers wZEC minting on Ethereum, and generates computationally intensive ZK-SNARK proofs for all shielded wZEC transactions, and EVM Smart Contracts including a Verifier Contract storing trusted setup keys and the wZEC Token Contract allowing state changes only with valid proofs.

## Milestones and Timeline (22 weeks)

**Milestone 1 (4 weeks, 20% payout):** Circuit Finalization and Powers of Tau Setup delivers finalized Circom circuit, completion of open Powers of Tau ceremony, and generation of Trusted Setup parameters. The immediate critical next step is initiating a transparent Powers of Tau multi-party computation ceremony essential for securely generating public parameters for ZK-SNARK trusted setup, ensuring the verification key used on Ethereum is secure and trustless with coordinated open participation and auditability.

**Milestone 2 (6 weeks, 30% payout):** EVM Bridge Contracts and Merkle Logic implements wZEC Token Contract, Merkle Tree State Manager, and Verifier contracts on Ethereum testnet.

**Milestone 3 (6 weeks, 30% payout):** Relayer and Proof Generation Engine develops off-chain relayer monitoring Zcash deposits and generating ZK-SNARK proofs for EVM transactions.

**Milestone 4 (4 weeks, 10% payout):** Security Audit and Testnet Deployment provides full security audit of Circom and Solidity code with successful deployment and stress-testing on Sepolia testnet.

**Milestone 5 (2 weeks, 10% payout):** Documentation and Open-Source Release delivers public open-source repository, comprehensive developer guides, final report, and community demo.

## Budget Breakdown ($175,000 USD / ~739 ZEC)

Development and Engineering for Milestones 1-3: $80,000 (~338 ZEC) compensating 4-5 months of ZK Cryptography and Solidity engineering. Relayer and Infrastructure for Milestone 3: $30,000 (~127 ZEC) building multi-chain relayer for Zcash monitoring and off-chain ZK proof generation. Security Audit for Milestone 4: $35,000 (~148 ZEC) for mandatory audit by reputable firm specializing in ZK circuits and bridge security. Gas and Deployment Fees: $15,000 (~63 ZEC) for deployment, proving, and transaction fees on Ethereum Mainnet and Testnets. Contingency and Documentation for Milestone 5: $15,000 (~63 ZEC) for risk mitigation, project management, and final documentation and outreach.

## Impact on Zcash Ecosystem

This project delivers expanded utility immediately enabling ZEC holders to engage in private DeFi activities on Ethereum and layer-2s such as shielded collateral or liquidity provision. It serves as compelling real-world demonstration of how ZK-SNARKs bolt privacy onto transparent blockchains, reinforcing Zcash's technological leadership. By adhering to ERC-20 standards while maintaining confidentiality, wZEC seamlessly interacts with thousands of existing protocols, significantly increasing visibility and demand for ZEC across the broader cryptocurrency ecosystem.